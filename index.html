
<html>
    <head>
        <title>Cards</title>

        <link rel="stylesheet" href="https://deck-of-cards.js.org/example.css">
    </head>
    <body>
        <script src="https://deck-of-cards.js.org/dist/deck.min.js"></script>

        <div id="container"></div>
        <div id="hand1" style="position: relative; width: 728px; margin: auto;"></div>

        <footer id="buttonBar">
        	<section id="clubButtons">
        		How many clubs? <br/>

        		<form>
        		  <input type="radio" name="clubGuess" value=0 checked>0
        		  <input type="radio" name="clubGuess" value=1>1
        		  <input type="radio" name="clubGuess" value=2>2
        		  <input type="radio" name="clubGuess" value=3>3
        		  <input type="radio" name="clubGuess" value=4>4
        		  <input type="radio" name="clubGuess" value=5>5
        		  <input type="radio" name="clubGuess" value=6>6<br>
        		  <input type="radio" name="clubGuess" value=7>7
        		  <input type="radio" name="clubGuess" value=8>8
        		  <input type="radio" name="clubGuess" value=9>9
        		  <input type="radio" name="clubGuess" value=10>10
        		  <input type="radio" name="clubGuess" value=11>11
        		  <input type="radio" name="clubGuess" value=12>12
        		  <input type="radio" name="clubGuess" value=13>13
        		</form>

        	</section>

        	<section id="diamondButtons">
        		How many diamonds? <br/>

        		<form>
        		  <input type="radio" name="diamondGuess" value=0 checked>0
        		  <input type="radio" name="diamondGuess" value=1>1
        		  <input type="radio" name="diamondGuess" value=2>2
        		  <input type="radio" name="diamondGuess" value=3>3
        		  <input type="radio" name="diamondGuess" value=4>4
        		  <input type="radio" name="diamondGuess" value=5>5
        		  <input type="radio" name="diamondGuess" value=6>6<br>
        		  <input type="radio" name="diamondGuess" value=7>7
        		  <input type="radio" name="diamondGuess" value=8>8
        		  <input type="radio" name="diamondGuess" value=9>9
        		  <input type="radio" name="diamondGuess" value=10>10
        		  <input type="radio" name="diamondGuess" value=11>11
        		  <input type="radio" name="diamondGuess" value=12>12
        		  <input type="radio" name="diamondGuess" value=13>13
        		</form>

        	</section>

        	<section id="spadeButtons">
        		How many spades? <br/>

        		<form>
        		  <input type="radio" name="spadeGuess" value=0 checked>0
        		  <input type="radio" name="spadeGuess" value=1>1
        		  <input type="radio" name="spadeGuess" value=2>2
        		  <input type="radio" name="spadeGuess" value=3>3
        		  <input type="radio" name="spadeGuess" value=4>4
        		  <input type="radio" name="spadeGuess" value=5>5
        		  <input type="radio" name="spadeGuess" value=6>6<br>
        		  <input type="radio" name="spadeGuess" value=7>7
        		  <input type="radio" name="spadeGuess" value=8>8
        		  <input type="radio" name="spadeGuess" value=9>9
        		  <input type="radio" name="spadeGuess" value=10>10
        		  <input type="radio" name="spadeGuess" value=11>11
        		  <input type="radio" name="spadeGuess" value=12>12
        		  <input type="radio" name="spadeGuess" value=13>13
        		</form>

        	</section>

        	<section id="heartButtons">
        		How many hearts? <br/>

        		<form>
        		  <input type="radio" name="heartGuess" value=0 checked>0
        		  <input type="radio" name="heartGuess" value=1>1
        		  <input type="radio" name="heartGuess" value=2>2
        		  <input type="radio" name="heartGuess" value=3>3
        		  <input type="radio" name="heartGuess" value=4>4
        		  <input type="radio" name="heartGuess" value=5>5
        		  <input type="radio" name="heartGuess" value=6>6<br>
        		  <input type="radio" name="heartGuess" value=7>7
        		  <input type="radio" name="heartGuess" value=8>8
        		  <input type="radio" name="heartGuess" value=9>9
        		  <input type="radio" name="heartGuess" value=10>10
        		  <input type="radio" name="heartGuess" value=11>11
        		  <input type="radio" name="heartGuess" value=12>12
        		  <input type="radio" name="heartGuess" value=13>13
        		</form>

        	</section>
        	
        	<button id="guessSuits">Guess</button>
        </footer>

        <script>

			  function SuitName(suit) {
			    // return suit name from suit value
			    return suit === 0 ? 'spades' : suit === 1 ? 'hearts' : suit === 2 ? 'clubs' : suit === 3 ? 'diamonds' : 'joker';
			  }

			  function sortCards(obj) {
				obj.clubs = [];
				obj.diamonds = [];
				obj.spades = [];
				obj.hearts = [];

				obj.clubCount = 0;
				obj.diamondCount = 0;
				obj.spadeCount = 0;
				obj.heartCount = 0;

				for (i=0, len=obj.length; i<len; i++) {
				    var currentCard = obj[i];
				    switch (currentCard.suit) {
				    	case 2:
				    		console.log(currentCard);
				    		obj.clubs.push(currentCard);
				    		obj.clubCount++;
				    		break;
				    	case 3:
				    		obj.diamonds.push(currentCard);
				    		obj.diamondCount++;
				    		break;
				    	case 0:
				    		obj.spades.push(currentCard);
				    		obj.spadeCount++;
				    		break;
				    	case 1:
				    		obj.hearts.push(currentCard);
				    		obj.heartCount++;
				    		break;
				    }
				}
				obj.cards = obj.clubs.concat(obj.diamonds, obj.spades, obj.hearts)
				return obj;
			  }

			  function countOccurrences() {
			  	var allHands = {};
			  	allHands.clubCount = hand1.clubCount + hand2.clubCount + hand3.clubCount;
			  	allHands.diamondCount = hand1.diamondCount + hand2.diamondCount + hand3.diamondCount;
			  	allHands.spadeCount = hand1.spadeCount + hand2.spadeCount + hand3.spadeCount;
			  	allHands.heartCount = hand1.heartCount + hand2.heartCount + hand3.heartCount;


			  	return allHands;
			  }

			  //club2 diamond3 spade0 hearts1
				var $container = document.getElementById('container')
				var $hand1 = document.getElementById('hand1')

				// create Deck
				var deck = Deck()
				// console.log(this.SuitName(0))
				deck.shuffle()

				// add to DOM
				deck.mount($container)

				var hand1 = deck.cards.splice(1, 7);

				hand1 = sortCards(hand1);
				console.log(hand1)
				
				for (i=0, len=hand1.cards.length; i<len; i++) {
					// console.log(deck.SuitName(hand1[i].suit))
					// hand1[i].mount($hand1)
					hand1.cards[i].enableDragging()
				    hand1.cards[i].setSide('front')
					
				    // explode
				    hand1.cards[i].animateTo({
				        delay: 1000 + i * 2, // wait 1 second + i * 2 ms
				        duration: 500,
						ease: 'quartOut',
				    x: -300 + 100*i,
				    y: -410+150
				        
				/*         x: Math.random() * window.innerWidth - window.innerWidth / 2,
				        y: Math.random() * window.innerHeight - window.innerHeight / 2
				         */    
				    })
				}

				var hand2 = deck.cards.splice(1, 7);
				var hand2 = sortCards(hand2);
				console.log(hand2)
				for (i=0, len=hand2.cards.length; i<len; i++) {
					// console.log(deck.SuitName(hand2[i].suit))
					hand2.cards[i].enableDragging()
				    hand2.cards[i].setSide('front')
					
				    // explode
				    hand2.cards[i].animateTo({
				        delay: 1000 + i * 2, // wait 1 second + i * 2 ms
				        duration: 500,
						ease: 'quartOut',
				    x: -300+ 100*i,
				    y: -290 + 150
				        
				/*         x: Math.random() * window.innerWidth - window.innerWidth / 2,
				        y: Math.random() * window.innerHeight - window.innerHeight / 2
				         */    
				    })
				}


				var hand3 = deck.cards.splice(1, 7);
				var hand3 = sortCards(hand3);
				// console.log(hand3)

				for (i=0, len=hand3.cards.length; i<len; i++) {
					// console.log(deck.SuitName(hand3[i].suit))
					hand3.cards[i].enableDragging()
				    hand3.cards[i].setSide('front')
					
				    // explode
				    hand3.cards[i].animateTo({
				        delay: 1000 + i * 2, // wait 1 second + i * 2 ms
				        duration: 500,
						ease: 'quartOut',
				    x: -300+ 100*i,
				    y: -100+250
				        
				/*         x: Math.random() * window.innerWidth - window.innerWidth / 2,
				        y: Math.random() * window.innerHeight - window.innerHeight / 2
				         */    
				    })
				}

				// deck.unmount();


				// for (i=0, len=7; i < len; i++) {
				// 	deck.cards[i].enableDragging()
				//     deck.cards[i].setSide('front')
					
				//     // explode
				//     deck.cards[i].animateTo({
				//         delay: 1000 + i * 2, // wait 1 second + i * 2 ms
				//         duration: 500,
				// 		ease: 'quartOut',
				//     x: 10 + 30*i,
				//     y: -110
				        
				// /*         x: Math.random() * window.innerWidth - window.innerWidth / 2,
				//         y: Math.random() * window.innerHeight - window.innerHeight / 2
				//          */    
				//     })
				// }

				// console.log(deck)



				document.addEventListener('click', function (event) {
					// console.log(event.path)
					//console.log(event);

					if (event.target.id === "guessSuits") {

						var correctClubCount = document.querySelector('input[name="clubGuess"]:checked').value;
						var correctDiamondCount = document.querySelector('input[name="diamondGuess"]:checked').value;
						var correctSpadeCount = document.querySelector('input[name="spadeGuess"]:checked').value;
						var correctHeartCount = document.querySelector('input[name="heartGuess"]:checked').value;

						var occurrences = countOccurrences();

						if (occurrences.clubCount == correctClubCount && occurrences.diamondCount == correctDiamondCount && occurrences.spadeCount == correctSpadeCount && occurrences.heartCount == correctHeartCount ) {
							alert("Correct");
						}
						else {
							alert("Wrong");
						}
					}					

				}, false);
        </script>
    </body>
</html>




